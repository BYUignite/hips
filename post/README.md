# Post-Processing Code for Simulation Data

## Overview

This repository contains scripts for post-processing simulation data. The scripts compute statistical measures, including the mean and variance for different variables, and generate a Probability Density Function (PDF) for the scalar dissipation rate (`chi`). The simulation automatically generates the required data files and configuration file (`Parameters.dat`), which are expected to be located in the `post` directory.

## Setup Instructions

1. **Environment Setup**: Ensure you have Python 3.x installed along with the necessary libraries. You can install the required libraries using the following command:
    ```bash
    pip install numpy matplotlib pyyaml
    ```

2. **Data and Configuration**: The simulation creates the necessary data files and the `parameters.dat` configuration file by default. These files are expected to be located in the `../data/` and `post` directories. There is no need to manually create or move these files.

## Files and Scripts

- `stats.py`: This script reads the simulation data files and calculates the mean and variance for each variable. The results are saved in `mean_values.dat` and `variance_values.dat` in the `processed-data`.

- `chi_pdf.py`: This script processes the simulation data to compute the scalar dissipation rate (`chi`), log-transforms it, and then generates a PDF. The resulting plot is saved as `chi.pdf`.

- `utils.py`: Contains utility functions for reading parameters from a YAML file (`read_parameters`) and computing the Probability Density Function (`compute_pdf`).

## How to Run

1. **Calculate Mean and Variance**:
    - Run the `stats.py` script to calculate the mean and variance for each variable:
    ```bash
    python stats.py
    ```
    - This will generate two output files:
        - `mean_values.dat`: Contains the mean values for each variable.
        - `variance_values.dat`: Contains the variance values for each variable.
        - The columns in these files are labeled according to the variable names specified in `parameters.dat`.

2. **Generate PDF for Scalar Dissipation Rate**:
    - Run the `chi_pdf.py` script to calculate and plot the PDF for the log-transformed scalar dissipation rate (`chi`):
    ```bash
    python chi_pdf.py
    ```
    - This will generate a plot saved as `chi.pdf`.

## Output Files

- **mean_values.dat**: Contains the mean values for each variable.
- **variance_values.dat**: Contains the variance values for each variable.
- **chi.pdf**: A plot showing the Probability Density Function (PDF) of the log-transformed scalar dissipation rate (`chi`).

## Additional Notes

- The `parameters.dat` file defines the parameters for the post-processing scripts, including the number of variables (`nVar`) and the names of these variables, etc. The parameters are saved by `savaAllParameters()` function in the `hips`, The file is automatically generated by the simulation and should not require manual modification.

- The scripts assume that the data files follow a specific naming convention (`Data_*.dat`) and are located in the `../data/` directory.

